{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import styled from\"styled-components\";import Header from\"../components/header\";import{FaEdit,FaTrash}from\"react-icons/fa\";// Import icon cây bút và thùng rác\n// Styled components\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 2rem;\n  background-color: #f0f0f0;\n  min-height: 100vh;\n`;const Title=styled.h1`\n  font-size: 2.5rem;\n  color: #333;\n  margin-bottom: 2rem;\n`;const QuizList=styled.ul`\n  list-style-type: none;\n  padding: 0;\n  width: 100%;\n  max-width: 600px;\n`;const QuizItem=styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 1rem 0;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  transition: transform 0.2s;\n  padding: 1rem;\n\n  &:hover {\n    transform: translateY(-4px);\n  }\n\n  a {\n    color: #007bff;\n    text-decoration: none;\n    font-weight: bold;\n  }\n\n  a:hover {\n    color: #0056b3;\n  }\n`;const EditIcon=styled(FaEdit)`\n  cursor: pointer;\n  color: #007bff;\n  margin-left: 1rem;\n\n  &:hover {\n    color: #0056b3;\n  }\n`;const DeleteIcon=styled(FaTrash)`\n  cursor: pointer;\n  color: #dc3545;\n  margin-left: 1rem;\n\n  &:hover {\n    color: #b02a37;\n  }\n`;const Form=styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 2rem;\n  width: 100%;\n  max-width: 400px;\n`;const Input=styled.input`\n  padding: 0.5rem;\n  margin: 0.5rem 0;\n  width: 100%;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n`;const Button=styled.button`\n  padding: 0.5rem 1rem;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: #0056b3;\n  }\n`;const Quiz=()=>{const[quizzes,setQuizzes]=useState([]);const[title,setTitle]=useState(\"\");const[description,setDescription]=useState(\"\");const[editingQuiz,setEditingQuiz]=useState(null);useEffect(()=>{const fetchQuizzes=async()=>{const response=await axios.get(\"http://localhost:3001/quizzes\");setQuizzes(response.data.data.quizzes);};fetchQuizzes();},[]);const handleSubmit=async e=>{e.preventDefault();try{const newQuiz={title,description};await axios.post(\"http://localhost:3001/quizzes\",newQuiz);setTitle(\"\");setDescription(\"\");const response=await axios.get(\"http://localhost:3001/quizzes\");setQuizzes(response.data.data.quizzes);}catch(error){console.error(\"Error creating new quiz:\",error);}};const handleEdit=quiz=>{setEditingQuiz(quiz);setTitle(quiz.title);setDescription(quiz.description);};const handleUpdate=async e=>{e.preventDefault();try{const updatedQuiz={title,description};await axios.patch(`http://localhost:3001/quizzes/${editingQuiz._id}`,updatedQuiz);setTitle(\"\");setDescription(\"\");setEditingQuiz(null);const response=await axios.get(\"http://localhost:3001/quizzes\");setQuizzes(response.data.data.quizzes);}catch(error){console.error(\"Error updating quiz:\",error);}};const handleDelete=async quizId=>{try{await axios.delete(`http://localhost:3001/quizzes/${quizId}`);setQuizzes(quizzes.filter(quiz=>quiz._id!==quizId));}catch(error){console.error(\"Error deleting quiz:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"Quiz Page\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:editingQuiz?handleUpdate:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Quiz Title\",value:title,onChange:e=>setTitle(e.target.value),required:true}),/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"Description\",value:description,onChange:e=>setDescription(e.target.value),required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:editingQuiz?\"Update Quiz\":\"Create New Quiz\"})]}),/*#__PURE__*/_jsx(QuizList,{children:quizzes.map(quiz=>/*#__PURE__*/_jsxs(QuizItem,{children:[/*#__PURE__*/_jsx(Link,{to:`/quizzes/${quiz._id}`,children:quiz.title}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EditIcon,{onClick:()=>handleEdit(quiz)}),/*#__PURE__*/_jsx(DeleteIcon,{onClick:()=>handleDelete(quiz._id)})]})]},quiz._id))})]})]});};export default Quiz;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","styled","Header","FaEdit","FaTrash","jsx","_jsx","jsxs","_jsxs","Container","div","Title","h1","QuizList","ul","QuizItem","li","EditIcon","DeleteIcon","Form","form","Input","input","Button","button","Quiz","quizzes","setQuizzes","title","setTitle","description","setDescription","editingQuiz","setEditingQuiz","fetchQuizzes","response","get","data","handleSubmit","e","preventDefault","newQuiz","post","error","console","handleEdit","quiz","handleUpdate","updatedQuiz","patch","_id","handleDelete","quizId","delete","filter","children","onSubmit","type","placeholder","value","onChange","target","required","map","to","onClick"],"sources":["C:/WorkSpace/FALL2024/SDN302/Assignment2/fe/src/pages/Quiz.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../components/header\";\r\nimport { FaEdit, FaTrash } from \"react-icons/fa\"; // Import icon cây bút và thùng rác\r\n\r\n// Styled components\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 2rem;\r\n  background-color: #f0f0f0;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-size: 2.5rem;\r\n  color: #333;\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst QuizList = styled.ul`\r\n  list-style-type: none;\r\n  padding: 0;\r\n  width: 100%;\r\n  max-width: 600px;\r\n`;\r\n\r\nconst QuizItem = styled.li`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 1rem 0;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  transition: transform 0.2s;\r\n  padding: 1rem;\r\n\r\n  &:hover {\r\n    transform: translateY(-4px);\r\n  }\r\n\r\n  a {\r\n    color: #007bff;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n  }\r\n\r\n  a:hover {\r\n    color: #0056b3;\r\n  }\r\n`;\r\n\r\nconst EditIcon = styled(FaEdit)`\r\n  cursor: pointer;\r\n  color: #007bff;\r\n  margin-left: 1rem;\r\n\r\n  &:hover {\r\n    color: #0056b3;\r\n  }\r\n`;\r\n\r\nconst DeleteIcon = styled(FaTrash)`\r\n  cursor: pointer;\r\n  color: #dc3545;\r\n  margin-left: 1rem;\r\n\r\n  &:hover {\r\n    color: #b02a37;\r\n  }\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 2rem;\r\n  width: 100%;\r\n  max-width: 400px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 0.5rem;\r\n  margin: 0.5rem 0;\r\n  width: 100%;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 0.5rem 1rem;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n\r\n  &:hover {\r\n    background-color: #0056b3;\r\n  }\r\n`;\r\n\r\nconst Quiz = () => {\r\n  const [quizzes, setQuizzes] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [editingQuiz, setEditingQuiz] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchQuizzes = async () => {\r\n      const response = await axios.get(\"http://localhost:3001/quizzes\");\r\n      setQuizzes(response.data.data.quizzes);\r\n    };\r\n    fetchQuizzes();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const newQuiz = { title, description };\r\n      await axios.post(\"http://localhost:3001/quizzes\", newQuiz);\r\n      setTitle(\"\");\r\n      setDescription(\"\");\r\n      const response = await axios.get(\"http://localhost:3001/quizzes\");\r\n      setQuizzes(response.data.data.quizzes);\r\n    } catch (error) {\r\n      console.error(\"Error creating new quiz:\", error);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (quiz) => {\r\n    setEditingQuiz(quiz);\r\n    setTitle(quiz.title);\r\n    setDescription(quiz.description);\r\n  };\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const updatedQuiz = { title, description };\r\n      await axios.patch(\r\n        `http://localhost:3001/quizzes/${editingQuiz._id}`,\r\n        updatedQuiz\r\n      );\r\n      setTitle(\"\");\r\n      setDescription(\"\");\r\n      setEditingQuiz(null);\r\n      const response = await axios.get(\"http://localhost:3001/quizzes\");\r\n      setQuizzes(response.data.data.quizzes);\r\n    } catch (error) {\r\n      console.error(\"Error updating quiz:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (quizId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:3001/quizzes/${quizId}`);\r\n      setQuizzes(quizzes.filter((quiz) => quiz._id !== quizId));\r\n    } catch (error) {\r\n      console.error(\"Error deleting quiz:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n\r\n      <Container>\r\n        <Title>Quiz Page</Title>\r\n        <Form onSubmit={editingQuiz ? handleUpdate : handleSubmit}>\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Quiz Title\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            required\r\n          />\r\n          <Input\r\n            type=\"text\"\r\n            placeholder=\"Description\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            required\r\n          />\r\n          <Button type=\"submit\">\r\n            {editingQuiz ? \"Update Quiz\" : \"Create New Quiz\"}\r\n          </Button>\r\n        </Form>\r\n        <QuizList>\r\n          {quizzes.map((quiz) => (\r\n            <QuizItem key={quiz._id}>\r\n              <Link to={`/quizzes/${quiz._id}`}>{quiz.title}</Link>\r\n              <div>\r\n                <EditIcon onClick={() => handleEdit(quiz)} />\r\n                <DeleteIcon onClick={() => handleDelete(quiz._id)} />\r\n              </div>\r\n            </QuizItem>\r\n          ))}\r\n        </QuizList>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Quiz;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}